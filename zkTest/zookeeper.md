Zookeeper  
1. 从设计模式角度来理解：是一个基于**观察者模式**设计的分布式服务管理框架，它负责存储和管理大家都关心的数据，然后接受观察者(客户端srever)的注册，一旦这些数据的状态发生变化，Zookeeper就将负责通知已经在Zookeeper上注册的那些观察者(客户端Client)做出相应的反应。（即这些观察者对于ZK来说都是客户端，但是这些客户端之间有的是主动注册的server，有的是监听注册节点的client）
1. 选举机制  
1. 监听原理  
1. 写数据流程（数据的一致性）  
1. 读数据流程: 当Client向zookeeper发出读请求时，无论是Leader还是Follower，都直接返回查询结果。
    - 由于写数据的半数机制，读取到的数据可能是过期的旧数据，不是最新的数据
    - [CAP理论](https://www.jianshu.com/p/5300f1f454e8)
      - 在理论计算机科学中，CAP定理（CAP theorem），它指出对于一个分布式计算系统来说，不可能同时满足以下三点：
        1. 一致性（Consistence) （等同于所有节点访问同一份最新的数据副本）
        1. 可用性（Availability）（每次请求都能获取到非错的响应——但是不保证获取的数据为最新数据）
        1. 分区容错性（Network partitioning）（以实际效果而言，分区相当于对通信的时限要求。系统如果不能在时限内达成数据一致性，就意味着发生了分区的情况，必须就当前操作在C和A之间做出选择。）
      - 根据定理，分布式系统只能满足三项中的两项而不可能满足全部三项。理解CAP理论的最简单方式是想象两个节点分处分区两侧。  
      允许至少一个节点更新状态会导致数据不一致，即丧失了C性质。如果为了保证数据一致性，将分区一侧的节点设置为不可用，那么又丧失了A性质。
      除非两个节点可以互相通信，才能既保证C又保证A，这又会导致丧失P性质。
      对于zookeeper来说，它实现了A可用性、P分区容错性、C中的写入强一致性，丧失的是C中的读取一致性。

1. 提供的服务包括：统一命名服务、统一配置管理、统一集群管理、服务器节点动态上下线、软负载均衡等。  
1. Zookeeper集群节点数量为什么要是奇数个？  
    - 防止由脑裂造成的集群不可用  
    - 在容错能力相同的情况下，奇数台更节省资源
