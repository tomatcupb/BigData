# Scala函数式编程
- 基本语法
    ```
    def 函数名([参数名：参数类型[=默认值]]...)[[:返回值类型]=]{
        语句
        [return] 返回值
    }
    ```
    - 形参
        - 函数的形参列表可以有多个形参，若没有形参，调用时可不带()
        - 形参可以赋初始默认值；不指定则使用默认值，否则覆盖；也可指定函数名赋值从而选择性覆盖默认值
        - 支持可变参数def sum(n1:Int, args:Int*)(一个或多个参数)；可变参数要写在形参列表的最后
    - 返回值
        - 形式1 : 返回值类型 =
        - 形式2 = 表示返回值类型不确定，由类型推导完成(等价于:Any=)
        - 形式3   表示没有返回值，return 不生效
        - 如果没有 return, 默认到执行最后一行的结果作为返回值,此时返回值类型也可以省略；
        如果明确写了return,函数返回类型则不能自行推断，要明确写成: 返回值类型 =；若不写，即使有return,返回值为()
        - 如果明确返回值类型为Unit,即使有return也不会有返回值
        - 递归函数未执行前是无法进行类型推断的，在使用时必须有明确的返回类型
        - def f1 = "text" <=> def f1()={"text"}
        
- 过程
    - 返回值类型为Unit的函数为过程(procedure),没有返回值，则等号可以省去

- 惰性函数（当函数返回值被声明lazy时，函数的执行将被推迟，直到首次对其取值，该函数才会执行）
    - 惰性计算：尽可能延迟表达式求值
    - case1: 京东采集了很多用户消费记录，根据计算可以进行产品推荐；但是这种实时计算成本太大，可以先存储记录，
    比如当用户下次登录时进行计算推荐(case2:Ajax技术，只在需要的时候更新局部页面)
    - 声明变量时加上lazy,那么变量值的分配，也会推迟：lazy val n=10
    - lazy 不可修饰 var类型变量

- 异常处理
    - java
        - try-catch-catch-...-finally
        - 多个catch,要把小的异常写在前，否则报错
    - scala
        - try-catch{case,case,...}-finally
        - 多个case,即使把大的异常写在前也不会报错，但是是不好的编程习惯
        - throw抛出异常，throws声明异常